{"level":"info","ts":"2025-04-27T22:32:15.314+0700","caller":"app/app.go:40","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:15.314+0700","caller":"app/app.go:45","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:15.314+0700","caller":"app/app.go:114","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:15.314+0700","caller":"app/app.go:52","msg":"Получена новая конфигурация (метод балансировки: WeightedRoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:15.315+0700","caller":"app/app.go:65","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:15.315+0700","caller":"app/app.go:72","msg":"Создан новый балансировщик нагрузки (метод: WeightedRoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:15.315+0700","caller":"app/app.go:75","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:15.315+0700","caller":"app/app.go:81","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:15.315+0700","caller":"app/app.go:101","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T22:32:15.315+0700","caller":"app/app.go:54","msg":"Ошибка при реконфигурации приложения: failed to start proxy: listen tcp :8080: bind: address already in use","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:35.370+0700","caller":"app/app.go:40","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:35.370+0700","caller":"app/app.go:45","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:35.370+0700","caller":"app/app.go:114","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:35.370+0700","caller":"app/app.go:52","msg":"Получена новая конфигурация (метод балансировки: WeightedRoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:35.370+0700","caller":"app/app.go:65","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:35.370+0700","caller":"app/app.go:72","msg":"Создан новый балансировщик нагрузки (метод: WeightedRoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:35.371+0700","caller":"app/app.go:75","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:35.371+0700","caller":"app/app.go:81","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:32:35.371+0700","caller":"app/app.go:101","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T22:34:26.122+0700","caller":"app/app.go:122","msg":"Получен сигнал завершения работы: interrupt","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:03:54.245+0700","caller":"app/app.go:40","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:03:54.245+0700","caller":"app/app.go:45","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:03:54.245+0700","caller":"app/app.go:114","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:03:54.245+0700","caller":"app/app.go:52","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:03:54.245+0700","caller":"app/app.go:65","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:03:54.245+0700","caller":"app/app.go:72","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:03:54.245+0700","caller":"app/app.go:75","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:03:54.245+0700","caller":"app/app.go:81","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:03:54.245+0700","caller":"app/app.go:101","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:03:54.246+0700","caller":"app/app.go:54","msg":"Ошибка при реконфигурации приложения: failed to start proxy: listen tcp :8080: bind: address already in use","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:04:09.833+0700","caller":"app/app.go:40","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:04:09.833+0700","caller":"app/app.go:45","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:04:09.833+0700","caller":"app/app.go:114","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:04:09.833+0700","caller":"app/app.go:52","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:04:09.833+0700","caller":"app/app.go:65","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:04:09.833+0700","caller":"app/app.go:72","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:04:09.833+0700","caller":"app/app.go:75","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:04:09.833+0700","caller":"app/app.go:81","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:04:09.833+0700","caller":"app/app.go:101","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:04:09.833+0700","caller":"app/app.go:54","msg":"Ошибка при реконфигурации приложения: failed to start proxy: listen tcp :8080: bind: address already in use","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:07.068+0700","caller":"app/app.go:40","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:07.068+0700","caller":"app/app.go:45","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:07.068+0700","caller":"app/app.go:114","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:07.068+0700","caller":"app/app.go:52","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:07.068+0700","caller":"app/app.go:65","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:07.068+0700","caller":"app/app.go:72","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:07.068+0700","caller":"app/app.go:75","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:07.068+0700","caller":"app/app.go:81","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:07.068+0700","caller":"app/app.go:101","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:05:07.068+0700","caller":"app/app.go:54","msg":"Ошибка при реконфигурации приложения: failed to start proxy: listen tcp :8080: bind: address already in use","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:33.895+0700","caller":"app/app.go:122","msg":"Получен сигнал завершения работы: interrupt","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:33.895+0700","caller":"app/app.go:128","msg":"Начало graceful shutdown","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:33.896+0700","caller":"app/app.go:141","msg":"Менеджер конфигурации успешно закрыт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:05:33.896+0700","caller":"app/app.go:144","msg":"Приложение успешно завершило работу","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:12:54.944+0700","caller":"app/app.go:40","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:12:54.944+0700","caller":"app/app.go:45","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:12:54.945+0700","caller":"app/app.go:114","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:12:54.945+0700","caller":"app/app.go:52","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:12:54.945+0700","caller":"app/app.go:65","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:12:54.945+0700","caller":"app/app.go:72","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:12:54.945+0700","caller":"app/app.go:75","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:12:54.945+0700","caller":"app/app.go:81","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:12:54.945+0700","caller":"app/app.go:101","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:13:01.318+0700","caller":"round_robin/round_robin.go:30","msg":"нет доступных бэкендов","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:13:01.836+0700","caller":"round_robin/round_robin.go:30","msg":"нет доступных бэкендов","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:13:02.351+0700","caller":"round_robin/round_robin.go:30","msg":"нет доступных бэкендов","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:13:02.869+0700","caller":"round_robin/round_robin.go:30","msg":"нет доступных бэкендов","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:13:03.385+0700","caller":"round_robin/round_robin.go:30","msg":"нет доступных бэкендов","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:13:03.904+0700","caller":"round_robin/round_robin.go:30","msg":"нет доступных бэкендов","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:13:04.420+0700","caller":"round_robin/round_robin.go:30","msg":"нет доступных бэкендов","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:13:04.940+0700","caller":"round_robin/round_robin.go:30","msg":"нет доступных бэкендов","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:13:05.456+0700","caller":"round_robin/round_robin.go:30","msg":"нет доступных бэкендов","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:13:05.975+0700","caller":"round_robin/round_robin.go:30","msg":"нет доступных бэкендов","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:20:03.889+0700","caller":"app/app.go:122","msg":"Получен сигнал завершения работы: interrupt","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:23:41.466+0700","caller":"app/app.go:41","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:23:41.466+0700","caller":"app/app.go:46","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:23:41.466+0700","caller":"app/app.go:120","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:23:41.466+0700","caller":"app/app.go:53","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:23:41.466+0700","caller":"app/app.go:66","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:23:41.466+0700","caller":"app/app.go:78","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:23:41.466+0700","caller":"app/app.go:81","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:23:41.466+0700","caller":"app/app.go:87","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:23:41.466+0700","caller":"app/app.go:107","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-27T23:23:41.466+0700","caller":"app/app.go:55","msg":"Ошибка при реконфигурации приложения: failed to start proxy: listen tcp :8080: bind: address already in use","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:26:47.568+0700","caller":"app/app.go:41","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:26:47.568+0700","caller":"app/app.go:46","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:26:47.568+0700","caller":"app/app.go:120","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:26:47.569+0700","caller":"app/app.go:53","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:26:47.569+0700","caller":"app/app.go:66","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:26:47.569+0700","caller":"app/app.go:78","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:26:47.569+0700","caller":"app/app.go:81","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:26:47.569+0700","caller":"app/app.go:87","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-27T23:26:47.569+0700","caller":"app/app.go:107","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:25:36.396+0700","caller":"app/app.go:41","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:25:36.397+0700","caller":"app/app.go:46","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:25:36.397+0700","caller":"app/app.go:120","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:25:36.397+0700","caller":"app/app.go:53","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:25:36.397+0700","caller":"app/app.go:66","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:36.397+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend1, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:36.397+0700","caller":"base/base.go:58","msg":"Бэкенд backend1 успешно добавлен. Всего бэкендов: 1","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:36.397+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend2, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:36.397+0700","caller":"base/base.go:58","msg":"Бэкенд backend2 успешно добавлен. Всего бэкендов: 2","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:36.397+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend3, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:36.397+0700","caller":"base/base.go:58","msg":"Бэкенд backend3 успешно добавлен. Всего бэкендов: 3","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:25:36.397+0700","caller":"app/app.go:78","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:25:36.397+0700","caller":"app/app.go:81","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:25:36.397+0700","caller":"app/app.go:87","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:25:36.397+0700","caller":"app/app.go:107","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:36.397+0700","caller":"transport/transport.go:60","msg":"Запуск прокси-сервера на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:58.726+0700","caller":"transport/transport.go:72","msg":"Получен новый запрос: GET /test от [::1]:42366","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:58.726+0700","caller":"transport/transport.go:80","msg":"Rate limit проверка пройдена для [::1]:42366","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:58.726+0700","caller":"transport/transport.go:83","msg":"Создан кастомный запрос для пользователя [::1]:42366","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:58.727+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:58.727+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:58.727+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:58.727+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:58.727+0700","caller":"transport/transport.go:91","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:58.727+0700","caller":"transport/transport.go:99","msg":"Подготовлен запрос к бэкенду backend2: GET http://backend2/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:58.730+0700","caller":"transport/transport.go:107","msg":"Ошибка при запросе к бэкенду backend2: Get \"http://http:%2F%2Flocalhost:8082/test\": dial tcp: lookup http://localhost: no such host","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.258+0700","caller":"transport/transport.go:72","msg":"Получен новый запрос: GET /test от [::1]:42380","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.258+0700","caller":"transport/transport.go:80","msg":"Rate limit проверка пройдена для [::1]:42380","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.258+0700","caller":"transport/transport.go:83","msg":"Создан кастомный запрос для пользователя [::1]:42380","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.258+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.258+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.258+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.258+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.258+0700","caller":"transport/transport.go:91","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.258+0700","caller":"transport/transport.go:99","msg":"Подготовлен запрос к бэкенду backend1: GET http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.259+0700","caller":"transport/transport.go:107","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.780+0700","caller":"transport/transport.go:72","msg":"Получен новый запрос: GET /test от [::1]:42390","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.781+0700","caller":"transport/transport.go:80","msg":"Rate limit проверка пройдена для [::1]:42390","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.781+0700","caller":"transport/transport.go:83","msg":"Создан кастомный запрос для пользователя [::1]:42390","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.781+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.781+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.781+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.781+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.781+0700","caller":"transport/transport.go:91","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.781+0700","caller":"transport/transport.go:99","msg":"Подготовлен запрос к бэкенду backend1: GET http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:25:59.781+0700","caller":"transport/transport.go:107","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.307+0700","caller":"transport/transport.go:72","msg":"Получен новый запрос: GET /test от [::1]:42404","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.307+0700","caller":"transport/transport.go:80","msg":"Rate limit проверка пройдена для [::1]:42404","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.307+0700","caller":"transport/transport.go:83","msg":"Создан кастомный запрос для пользователя [::1]:42404","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.307+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.307+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.307+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.307+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.307+0700","caller":"transport/transport.go:91","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.307+0700","caller":"transport/transport.go:99","msg":"Подготовлен запрос к бэкенду backend2: GET http://backend2/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.308+0700","caller":"transport/transport.go:107","msg":"Ошибка при запросе к бэкенду backend2: Get \"http://http:%2F%2Flocalhost:8082/test\": dial tcp: lookup http://localhost: no such host","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.834+0700","caller":"transport/transport.go:72","msg":"Получен новый запрос: GET /test от [::1]:42410","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.834+0700","caller":"transport/transport.go:80","msg":"Rate limit проверка пройдена для [::1]:42410","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.835+0700","caller":"transport/transport.go:83","msg":"Создан кастомный запрос для пользователя [::1]:42410","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.835+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.835+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.835+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.835+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.835+0700","caller":"transport/transport.go:91","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.835+0700","caller":"transport/transport.go:99","msg":"Подготовлен запрос к бэкенду backend3: GET http://backend3/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:00.835+0700","caller":"transport/transport.go:107","msg":"Ошибка при запросе к бэкенду backend3: Get \"http://http:%2F%2Flocalhost:8083/test\": dial tcp: lookup http://localhost: no such host","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.360+0700","caller":"transport/transport.go:72","msg":"Получен новый запрос: GET /test от [::1]:42422","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.360+0700","caller":"transport/transport.go:80","msg":"Rate limit проверка пройдена для [::1]:42422","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.360+0700","caller":"transport/transport.go:83","msg":"Создан кастомный запрос для пользователя [::1]:42422","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.360+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.360+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.360+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.360+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.360+0700","caller":"transport/transport.go:91","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.360+0700","caller":"transport/transport.go:99","msg":"Подготовлен запрос к бэкенду backend1: GET http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.361+0700","caller":"transport/transport.go:107","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.884+0700","caller":"transport/transport.go:72","msg":"Получен новый запрос: GET /test от [::1]:42436","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.884+0700","caller":"transport/transport.go:80","msg":"Rate limit проверка пройдена для [::1]:42436","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.884+0700","caller":"transport/transport.go:83","msg":"Создан кастомный запрос для пользователя [::1]:42436","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.884+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.884+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.884+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.884+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.884+0700","caller":"transport/transport.go:91","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.884+0700","caller":"transport/transport.go:99","msg":"Подготовлен запрос к бэкенду backend3: GET http://backend3/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:01.884+0700","caller":"transport/transport.go:107","msg":"Ошибка при запросе к бэкенду backend3: Get \"http://http:%2F%2Flocalhost:8083/test\": dial tcp: lookup http://localhost: no such host","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.412+0700","caller":"transport/transport.go:72","msg":"Получен новый запрос: GET /test от [::1]:42452","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.412+0700","caller":"transport/transport.go:80","msg":"Rate limit проверка пройдена для [::1]:42452","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.412+0700","caller":"transport/transport.go:83","msg":"Создан кастомный запрос для пользователя [::1]:42452","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.412+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.412+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.412+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.412+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.412+0700","caller":"transport/transport.go:91","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.412+0700","caller":"transport/transport.go:99","msg":"Подготовлен запрос к бэкенду backend3: GET http://backend3/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.413+0700","caller":"transport/transport.go:107","msg":"Ошибка при запросе к бэкенду backend3: Get \"http://http:%2F%2Flocalhost:8083/test\": dial tcp: lookup http://localhost: no such host","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.940+0700","caller":"transport/transport.go:72","msg":"Получен новый запрос: GET /test от [::1]:42454","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.940+0700","caller":"transport/transport.go:80","msg":"Rate limit проверка пройдена для [::1]:42454","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.940+0700","caller":"transport/transport.go:83","msg":"Создан кастомный запрос для пользователя [::1]:42454","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.940+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.940+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.940+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.940+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.940+0700","caller":"transport/transport.go:91","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.940+0700","caller":"transport/transport.go:99","msg":"Подготовлен запрос к бэкенду backend2: GET http://backend2/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:02.941+0700","caller":"transport/transport.go:107","msg":"Ошибка при запросе к бэкенду backend2: Get \"http://http:%2F%2Flocalhost:8082/test\": dial tcp: lookup http://localhost: no such host","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:03.469+0700","caller":"transport/transport.go:72","msg":"Получен новый запрос: GET /test от [::1]:42466","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:03.469+0700","caller":"transport/transport.go:80","msg":"Rate limit проверка пройдена для [::1]:42466","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:03.469+0700","caller":"transport/transport.go:83","msg":"Создан кастомный запрос для пользователя [::1]:42466","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:03.470+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:03.470+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:03.470+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:03.470+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:03.470+0700","caller":"transport/transport.go:91","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:03.470+0700","caller":"transport/transport.go:99","msg":"Подготовлен запрос к бэкенду backend2: GET http://backend2/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:26:03.470+0700","caller":"transport/transport.go:107","msg":"Ошибка при запросе к бэкенду backend2: Get \"http://http:%2F%2Flocalhost:8082/test\": dial tcp: lookup http://localhost: no such host","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:26:24.163+0700","caller":"app/app.go:128","msg":"Получен сигнал завершения работы: interrupt","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:28:10.250+0700","caller":"app/app.go:41","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:28:10.250+0700","caller":"app/app.go:46","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:28:10.250+0700","caller":"app/app.go:120","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:28:10.250+0700","caller":"app/app.go:53","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:28:10.250+0700","caller":"app/app.go:66","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:28:10.250+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend1, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:28:10.250+0700","caller":"base/base.go:58","msg":"Бэкенд backend1 успешно добавлен. Всего бэкендов: 1","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:28:10.250+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend2, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:28:10.250+0700","caller":"base/base.go:58","msg":"Бэкенд backend2 успешно добавлен. Всего бэкендов: 2","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:28:10.251+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend3, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:28:10.251+0700","caller":"base/base.go:58","msg":"Бэкенд backend3 успешно добавлен. Всего бэкендов: 3","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:28:10.251+0700","caller":"app/app.go:78","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:28:10.251+0700","caller":"app/app.go:81","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:28:10.251+0700","caller":"app/app.go:87","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:28:10.251+0700","caller":"app/app.go:107","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:28:10.251+0700","caller":"transport/transport.go:60","msg":"Запуск прокси-сервера на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"error","ts":"2025-04-28T23:28:10.251+0700","caller":"app/app.go:55","msg":"Ошибка при реконфигурации приложения: failed to start proxy: listen tcp :8080: bind: address already in use","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.565+0700","caller":"app/app.go:43","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.565+0700","caller":"app/app.go:48","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.565+0700","caller":"app/app.go:122","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.565+0700","caller":"app/app.go:55","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.565+0700","caller":"app/app.go:68","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:30:55.565+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend1, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:30:55.565+0700","caller":"base/base.go:58","msg":"Бэкенд backend1 успешно добавлен. Всего бэкендов: 1","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:30:55.565+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend2, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:30:55.565+0700","caller":"base/base.go:58","msg":"Бэкенд backend2 успешно добавлен. Всего бэкендов: 2","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:30:55.565+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend3, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:30:55.566+0700","caller":"base/base.go:58","msg":"Бэкенд backend3 успешно добавлен. Всего бэкендов: 3","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.566+0700","caller":"app/app.go:80","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.566+0700","caller":"app/app.go:83","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.566+0700","caller":"app/app.go:89","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.566+0700","caller":"app/app.go:109","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:30:55.566+0700","caller":"transport/transport.go:60","msg":"Запуск прокси-сервера на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.667+0700","caller":"app/app.go:113","msg":"Прокси успешно запущен на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.667+0700","caller":"app/app.go:117","msg":"Реконфигурация приложения успешно завершена","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:30:55.667+0700","caller":"app/app.go:59","msg":"Приложение успешно реконфигурировано","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.423+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:47834","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.423+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:47834","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.423+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:47834","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.423+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.423+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.423+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.424+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.424+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.424+0700","caller":"transport/transport.go:128","msg":"Формирование URL для бэкенда: http://backend2/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.424+0700","caller":"transport/transport.go:143","msg":"Заголовки скопированы из оригинального запроса: map[Accept:[*/*] User-Agent:[curl/8.13.0]]","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.424+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.429+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend2: Get \"http://http:%2F%2Flocalhost:8082/test\": dial tcp: lookup http://localhost: no such host, URL: http://backend2/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.954+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:47842","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.954+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:47842","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.955+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:47842","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.955+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.955+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.955+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.955+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.955+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.955+0700","caller":"transport/transport.go:128","msg":"Формирование URL для бэкенда: http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.955+0700","caller":"transport/transport.go:143","msg":"Заголовки скопированы из оригинального запроса: map[Accept:[*/*] User-Agent:[curl/8.13.0]]","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.955+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:15.956+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.482+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:47852","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.482+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:47852","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.482+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:47852","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.483+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.483+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.483+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.483+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.483+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.483+0700","caller":"transport/transport.go:128","msg":"Формирование URL для бэкенда: http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.483+0700","caller":"transport/transport.go:143","msg":"Заголовки скопированы из оригинального запроса: map[Accept:[*/*] User-Agent:[curl/8.13.0]]","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.483+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:16.483+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.009+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:47856","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.009+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:47856","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.010+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:47856","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.010+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.010+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.010+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.010+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.010+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.010+0700","caller":"transport/transport.go:128","msg":"Формирование URL для бэкенда: http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.010+0700","caller":"transport/transport.go:143","msg":"Заголовки скопированы из оригинального запроса: map[Accept:[*/*] User-Agent:[curl/8.13.0]]","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.010+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.011+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.535+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:47858","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.535+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:47858","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.535+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:47858","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.535+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.535+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.536+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.536+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.536+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.536+0700","caller":"transport/transport.go:128","msg":"Формирование URL для бэкенда: http://backend3/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.536+0700","caller":"transport/transport.go:143","msg":"Заголовки скопированы из оригинального запроса: map[Accept:[*/*] User-Agent:[curl/8.13.0]]","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.536+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:17.536+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend3: Get \"http://http:%2F%2Flocalhost:8083/test\": dial tcp: lookup http://localhost: no such host, URL: http://backend3/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.059+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:39760","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.060+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:39760","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.060+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:39760","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.060+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.060+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.060+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.060+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.060+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.060+0700","caller":"transport/transport.go:128","msg":"Формирование URL для бэкенда: http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.060+0700","caller":"transport/transport.go:143","msg":"Заголовки скопированы из оригинального запроса: map[Accept:[*/*] User-Agent:[curl/8.13.0]]","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.060+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.060+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.587+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:39770","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.587+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:39770","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.587+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:39770","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.587+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.588+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.588+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.588+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.588+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.588+0700","caller":"transport/transport.go:128","msg":"Формирование URL для бэкенда: http://backend3/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.588+0700","caller":"transport/transport.go:143","msg":"Заголовки скопированы из оригинального запроса: map[Accept:[*/*] User-Agent:[curl/8.13.0]]","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.588+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:18.588+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend3: Get \"http://http:%2F%2Flocalhost:8083/test\": dial tcp: lookup http://localhost: no such host, URL: http://backend3/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.114+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:39774","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.114+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:39774","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.114+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:39774","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.114+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.114+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.114+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.114+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.114+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.114+0700","caller":"transport/transport.go:128","msg":"Формирование URL для бэкенда: http://backend3/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.115+0700","caller":"transport/transport.go:143","msg":"Заголовки скопированы из оригинального запроса: map[Accept:[*/*] User-Agent:[curl/8.13.0]]","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.115+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.115+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend3: Get \"http://http:%2F%2Flocalhost:8083/test\": dial tcp: lookup http://localhost: no such host, URL: http://backend3/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.639+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:39788","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.640+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:39788","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.640+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:39788","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.640+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.640+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.640+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.640+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.640+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.640+0700","caller":"transport/transport.go:128","msg":"Формирование URL для бэкенда: http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.640+0700","caller":"transport/transport.go:143","msg":"Заголовки скопированы из оригинального запроса: map[Accept:[*/*] User-Agent:[curl/8.13.0]]","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.640+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:19.640+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://backend1/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.165+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:39792","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.165+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:39792","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.165+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:39792","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.165+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.165+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.165+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.165+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.165+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.165+0700","caller":"transport/transport.go:128","msg":"Формирование URL для бэкенда: http://backend3/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.166+0700","caller":"transport/transport.go:143","msg":"Заголовки скопированы из оригинального запроса: map[Accept:[*/*] User-Agent:[curl/8.13.0]]","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.166+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:20.166+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend3: Get \"http://http:%2F%2Flocalhost:8083/test\": dial tcp: lookup http://localhost: no such host, URL: http://backend3/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:31:34.397+0700","caller":"app/app.go:130","msg":"Получен сигнал завершения работы: interrupt","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:31:34.398+0700","caller":"app/app.go:144","msg":"Начало graceful shutdown","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:31:34.398+0700","caller":"app/app.go:147","msg":"Остановка прокси-сервера","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:34.398+0700","caller":"transport/transport.go:80","msg":"Начало graceful shutdown прокси-сервера","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:31:34.398+0700","caller":"transport/transport.go:96","msg":"Прокси-сервер успешно остановлен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:31:34.398+0700","caller":"app/app.go:151","msg":"Прокси-сервер успешно остановлен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:31:34.398+0700","caller":"app/app.go:158","msg":"Менеджер конфигурации успешно закрыт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:31:34.399+0700","caller":"app/app.go:161","msg":"Graceful shutdown успешно завершен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:31:34.399+0700","caller":"app/app.go:170","msg":"Приложение успешно завершило работу","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:50.949+0700","caller":"app/app.go:43","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:50.949+0700","caller":"app/app.go:48","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:50.949+0700","caller":"app/app.go:122","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:50.949+0700","caller":"app/app.go:55","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:50.949+0700","caller":"app/app.go:68","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:38:50.949+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend1, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:38:50.949+0700","caller":"base/base.go:58","msg":"Бэкенд backend1 успешно добавлен. Всего бэкендов: 1","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:38:50.950+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend2, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:38:50.950+0700","caller":"base/base.go:58","msg":"Бэкенд backend2 успешно добавлен. Всего бэкендов: 2","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:38:50.950+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend3, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:38:50.950+0700","caller":"base/base.go:58","msg":"Бэкенд backend3 успешно добавлен. Всего бэкендов: 3","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:50.950+0700","caller":"app/app.go:80","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:50.950+0700","caller":"app/app.go:83","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:50.950+0700","caller":"app/app.go:89","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:50.950+0700","caller":"app/app.go:109","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:38:50.950+0700","caller":"transport/transport.go:60","msg":"Запуск прокси-сервера на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:51.051+0700","caller":"app/app.go:113","msg":"Прокси успешно запущен на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:51.051+0700","caller":"app/app.go:117","msg":"Реконфигурация приложения успешно завершена","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:38:51.051+0700","caller":"app/app.go:59","msg":"Приложение успешно реконфигурировано","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.060+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:55074","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.060+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:55074","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.060+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:55074","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.060+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.060+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.060+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.060+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.060+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.060+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8083/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.060+0700","caller":"transport/transport.go:143","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.060+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.065+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend3: Get \"http://http:%2F%2Flocalhost:8083/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8083/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.595+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:55084","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.596+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:55084","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.596+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:55084","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.596+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.596+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.596+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.596+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.596+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.596+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8083/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.596+0700","caller":"transport/transport.go:143","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.596+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:00.597+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend3: Get \"http://http:%2F%2Flocalhost:8083/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8083/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.127+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:55096","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.127+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:55096","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.127+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:55096","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.127+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.127+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.127+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.127+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.127+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.128+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.128+0700","caller":"transport/transport.go:143","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.128+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.128+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.654+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:55112","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.654+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:55112","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.654+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:55112","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.654+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.654+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.654+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.655+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.655+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.655+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.655+0700","caller":"transport/transport.go:143","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.655+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:01.655+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend2: Get \"http://http:%2F%2Flocalhost:8082/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:55114","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:55114","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:55114","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"transport/transport.go:143","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.178+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:55128","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:55128","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:55128","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"transport/transport.go:143","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:02.704+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.228+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:55142","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.229+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:55142","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.229+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:55142","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.229+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.229+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.229+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.229+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.229+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.229+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.229+0700","caller":"transport/transport.go:143","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.229+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.229+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.760+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:55146","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.760+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:55146","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.760+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:55146","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.760+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.760+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.760+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.760+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.760+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.760+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8083/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.760+0700","caller":"transport/transport.go:143","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.760+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:03.761+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend3: Get \"http://http:%2F%2Flocalhost:8083/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8083/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:55156","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:55156","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:55156","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"transport/transport.go:143","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.286+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.811+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:55162","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.811+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:55162","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.812+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:55162","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.812+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.812+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.812+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.812+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.812+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.812+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.812+0700","caller":"transport/transport.go:143","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.812+0700","caller":"transport/transport.go:149","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:04.812+0700","caller":"transport/transport.go:157","msg":"Ошибка при запросе к бэкенду backend2: Get \"http://http:%2F%2Flocalhost:8082/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:39:33.671+0700","caller":"app/app.go:130","msg":"Получен сигнал завершения работы: interrupt","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:39:33.671+0700","caller":"app/app.go:144","msg":"Начало graceful shutdown","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:39:33.671+0700","caller":"app/app.go:147","msg":"Остановка прокси-сервера","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:33.671+0700","caller":"transport/transport.go:80","msg":"Начало graceful shutdown прокси-сервера","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:39:33.671+0700","caller":"transport/transport.go:96","msg":"Прокси-сервер успешно остановлен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:39:33.672+0700","caller":"app/app.go:151","msg":"Прокси-сервер успешно остановлен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:39:33.672+0700","caller":"app/app.go:158","msg":"Менеджер конфигурации успешно закрыт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:39:33.672+0700","caller":"app/app.go:161","msg":"Graceful shutdown успешно завершен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:39:33.672+0700","caller":"app/app.go:170","msg":"Приложение успешно завершило работу","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.398+0700","caller":"app/app.go:43","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.398+0700","caller":"app/app.go:48","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.398+0700","caller":"app/app.go:122","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.398+0700","caller":"app/app.go:55","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.398+0700","caller":"app/app.go:68","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:12.398+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend1, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:12.398+0700","caller":"base/base.go:58","msg":"Бэкенд backend1 успешно добавлен. Всего бэкендов: 1","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:12.398+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend2, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:12.398+0700","caller":"base/base.go:58","msg":"Бэкенд backend2 успешно добавлен. Всего бэкендов: 2","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:12.398+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend3, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:12.398+0700","caller":"base/base.go:58","msg":"Бэкенд backend3 успешно добавлен. Всего бэкендов: 3","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.398+0700","caller":"app/app.go:80","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.398+0700","caller":"app/app.go:83","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.398+0700","caller":"app/app.go:89","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.398+0700","caller":"app/app.go:109","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:12.398+0700","caller":"transport/transport.go:62","msg":"Запуск прокси-сервера на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.499+0700","caller":"app/app.go:113","msg":"Прокси успешно запущен на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.499+0700","caller":"app/app.go:117","msg":"Реконфигурация приложения успешно завершена","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:41:12.499+0700","caller":"app/app.go:59","msg":"Приложение успешно реконфигурировано","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.556+0700","caller":"transport/transport.go:104","msg":"Получен новый запрос: GET /test от [::1]:60246","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.556+0700","caller":"transport/transport.go:112","msg":"Rate limit проверка пройдена для [::1]:60246","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.557+0700","caller":"transport/transport.go:115","msg":"Создан кастомный запрос для пользователя [::1]:60246","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.557+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.557+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.557+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.557+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.557+0700","caller":"transport/transport.go:123","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.557+0700","caller":"transport/transport.go:137","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.557+0700","caller":"transport/transport.go:152","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.557+0700","caller":"transport/transport.go:158","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:17.560+0700","caller":"transport/transport.go:166","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.094+0700","caller":"transport/transport.go:104","msg":"Получен новый запрос: GET /test от [::1]:53702","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.095+0700","caller":"transport/transport.go:112","msg":"Rate limit проверка пройдена для [::1]:53702","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.095+0700","caller":"transport/transport.go:115","msg":"Создан кастомный запрос для пользователя [::1]:53702","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.095+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.095+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.095+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.095+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.095+0700","caller":"transport/transport.go:123","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.095+0700","caller":"transport/transport.go:137","msg":"Проксирование запроса к http://localhost:8083/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.095+0700","caller":"transport/transport.go:152","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.095+0700","caller":"transport/transport.go:158","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.095+0700","caller":"transport/transport.go:166","msg":"Ошибка при запросе к бэкенду backend3: Get \"http://http:%2F%2Flocalhost:8083/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8083/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.619+0700","caller":"transport/transport.go:104","msg":"Получен новый запрос: GET /test от [::1]:53718","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.619+0700","caller":"transport/transport.go:112","msg":"Rate limit проверка пройдена для [::1]:53718","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.619+0700","caller":"transport/transport.go:115","msg":"Создан кастомный запрос для пользователя [::1]:53718","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.619+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.619+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.619+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.619+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.619+0700","caller":"transport/transport.go:123","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.619+0700","caller":"transport/transport.go:137","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.619+0700","caller":"transport/transport.go:152","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.619+0700","caller":"transport/transport.go:158","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:18.620+0700","caller":"transport/transport.go:166","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.149+0700","caller":"transport/transport.go:104","msg":"Получен новый запрос: GET /test от [::1]:53730","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.149+0700","caller":"transport/transport.go:112","msg":"Rate limit проверка пройдена для [::1]:53730","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.149+0700","caller":"transport/transport.go:115","msg":"Создан кастомный запрос для пользователя [::1]:53730","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.149+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.149+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.150+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.150+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.150+0700","caller":"transport/transport.go:123","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.150+0700","caller":"transport/transport.go:137","msg":"Проксирование запроса к http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.150+0700","caller":"transport/transport.go:152","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.150+0700","caller":"transport/transport.go:158","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.151+0700","caller":"transport/transport.go:166","msg":"Ошибка при запросе к бэкенду backend2: Get \"http://http:%2F%2Flocalhost:8082/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.679+0700","caller":"transport/transport.go:104","msg":"Получен новый запрос: GET /test от [::1]:53738","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.679+0700","caller":"transport/transport.go:112","msg":"Rate limit проверка пройдена для [::1]:53738","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.679+0700","caller":"transport/transport.go:115","msg":"Создан кастомный запрос для пользователя [::1]:53738","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.680+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.680+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.680+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.680+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.680+0700","caller":"transport/transport.go:123","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.680+0700","caller":"transport/transport.go:137","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.680+0700","caller":"transport/transport.go:152","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.680+0700","caller":"transport/transport.go:158","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:19.680+0700","caller":"transport/transport.go:166","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.207+0700","caller":"transport/transport.go:104","msg":"Получен новый запрос: GET /test от [::1]:53752","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.207+0700","caller":"transport/transport.go:112","msg":"Rate limit проверка пройдена для [::1]:53752","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.207+0700","caller":"transport/transport.go:115","msg":"Создан кастомный запрос для пользователя [::1]:53752","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.207+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.207+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.207+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.207+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.207+0700","caller":"transport/transport.go:123","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.207+0700","caller":"transport/transport.go:137","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.207+0700","caller":"transport/transport.go:152","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.208+0700","caller":"transport/transport.go:158","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.208+0700","caller":"transport/transport.go:166","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.736+0700","caller":"transport/transport.go:104","msg":"Получен новый запрос: GET /test от [::1]:53754","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.736+0700","caller":"transport/transport.go:112","msg":"Rate limit проверка пройдена для [::1]:53754","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.736+0700","caller":"transport/transport.go:115","msg":"Создан кастомный запрос для пользователя [::1]:53754","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.736+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.736+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.736+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.736+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.736+0700","caller":"transport/transport.go:123","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.736+0700","caller":"transport/transport.go:137","msg":"Проксирование запроса к http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.736+0700","caller":"transport/transport.go:152","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.736+0700","caller":"transport/transport.go:158","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:20.737+0700","caller":"transport/transport.go:166","msg":"Ошибка при запросе к бэкенду backend2: Get \"http://http:%2F%2Flocalhost:8082/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.262+0700","caller":"transport/transport.go:104","msg":"Получен новый запрос: GET /test от [::1]:53764","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.262+0700","caller":"transport/transport.go:112","msg":"Rate limit проверка пройдена для [::1]:53764","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.263+0700","caller":"transport/transport.go:115","msg":"Создан кастомный запрос для пользователя [::1]:53764","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.263+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.263+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.263+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.263+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.263+0700","caller":"transport/transport.go:123","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.263+0700","caller":"transport/transport.go:137","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.263+0700","caller":"transport/transport.go:152","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.263+0700","caller":"transport/transport.go:158","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.264+0700","caller":"transport/transport.go:166","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.789+0700","caller":"transport/transport.go:104","msg":"Получен новый запрос: GET /test от [::1]:53776","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.789+0700","caller":"transport/transport.go:112","msg":"Rate limit проверка пройдена для [::1]:53776","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.789+0700","caller":"transport/transport.go:115","msg":"Создан кастомный запрос для пользователя [::1]:53776","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.789+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.789+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.789+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.789+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.789+0700","caller":"transport/transport.go:123","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.789+0700","caller":"transport/transport.go:137","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.789+0700","caller":"transport/transport.go:152","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.789+0700","caller":"transport/transport.go:158","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:21.790+0700","caller":"transport/transport.go:166","msg":"Ошибка при запросе к бэкенду backend1: Get \"http://http:%2F%2Flocalhost:8081/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.314+0700","caller":"transport/transport.go:104","msg":"Получен новый запрос: GET /test от [::1]:53784","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.314+0700","caller":"transport/transport.go:112","msg":"Rate limit проверка пройдена для [::1]:53784","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.314+0700","caller":"transport/transport.go:115","msg":"Создан кастомный запрос для пользователя [::1]:53784","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.314+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.314+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.314+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.314+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.314+0700","caller":"transport/transport.go:123","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.314+0700","caller":"transport/transport.go:137","msg":"Проксирование запроса к http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.314+0700","caller":"transport/transport.go:152","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.314+0700","caller":"transport/transport.go:158","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:41:22.315+0700","caller":"transport/transport.go:166","msg":"Ошибка при запросе к бэкенду backend2: Get \"http://http:%2F%2Flocalhost:8082/test\": dial tcp: lookup http://localhost: no such host, URL: http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:06.055+0700","caller":"app/app.go:130","msg":"Получен сигнал завершения работы: interrupt","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:06.055+0700","caller":"app/app.go:144","msg":"Начало graceful shutdown","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:06.055+0700","caller":"app/app.go:147","msg":"Остановка прокси-сервера","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:06.055+0700","caller":"transport/transport.go:82","msg":"Начало graceful shutdown прокси-сервера","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:06.055+0700","caller":"transport/transport.go:98","msg":"Прокси-сервер успешно остановлен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:06.055+0700","caller":"app/app.go:151","msg":"Прокси-сервер успешно остановлен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:06.055+0700","caller":"app/app.go:158","msg":"Менеджер конфигурации успешно закрыт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:06.056+0700","caller":"app/app.go:161","msg":"Graceful shutdown успешно завершен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:06.056+0700","caller":"app/app.go:170","msg":"Приложение успешно завершило работу","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.378+0700","caller":"app/app.go:43","msg":"Инициализация приложения (configPath: config.yaml, port: :8080)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.378+0700","caller":"app/app.go:48","msg":"Запущено отслеживание изменений конфигурации","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.378+0700","caller":"app/app.go:122","msg":"Приложение запущено и готово к работе на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.378+0700","caller":"app/app.go:55","msg":"Получена новая конфигурация (метод балансировки: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.379+0700","caller":"app/app.go:68","msg":"Начало реконфигурации приложения","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:10.379+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend1, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:10.379+0700","caller":"base/base.go:58","msg":"Бэкенд backend1 успешно добавлен. Всего бэкендов: 1","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:10.379+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend2, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:10.379+0700","caller":"base/base.go:58","msg":"Бэкенд backend2 успешно добавлен. Всего бэкендов: 2","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:10.379+0700","caller":"base/base.go:51","msg":"Добавление нового бэкенда: id=backend3, weight=1.00","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:10.379+0700","caller":"base/base.go:58","msg":"Бэкенд backend3 успешно добавлен. Всего бэкендов: 3","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.379+0700","caller":"app/app.go:80","msg":"Создан новый балансировщик нагрузки (метод: RoundRobin)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.379+0700","caller":"app/app.go:83","msg":"Создан новый rate limiter (rate: 100.00, burst: 200)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.379+0700","caller":"app/app.go:89","msg":"Создан новый прокси-сервер","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.379+0700","caller":"app/app.go:109","msg":"Выполняется первичный запуск прокси","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:10.379+0700","caller":"transport/transport.go:60","msg":"Запуск прокси-сервера на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.480+0700","caller":"app/app.go:113","msg":"Прокси успешно запущен на порту :8080","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.480+0700","caller":"app/app.go:117","msg":"Реконфигурация приложения успешно завершена","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:10.480+0700","caller":"app/app.go:59","msg":"Приложение успешно реконфигурировано","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.046+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:34922","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.046+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:34922","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.046+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:34922","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.046+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.046+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.046+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.046+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.047+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.047+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8083/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.047+0700","caller":"transport/transport.go:139","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.047+0700","caller":"transport/transport.go:145","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.062+0700","caller":"transport/transport.go:157","msg":"Получен ответ от бэкенда backend3 за 15.254162ms, статус: 200","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.062+0700","caller":"transport/transport.go:164","msg":"Заголовки ответа скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.062+0700","caller":"transport/transport.go:174","msg":"Тело ответа успешно отправлено клиенту, размер: 231 байт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.597+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:34924","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.597+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:34924","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.597+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:34924","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.597+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.597+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.597+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.597+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.597+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.597+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8083/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.597+0700","caller":"transport/transport.go:139","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.597+0700","caller":"transport/transport.go:145","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.598+0700","caller":"transport/transport.go:157","msg":"Получен ответ от бэкенда backend3 за 924.94µs, статус: 200","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.598+0700","caller":"transport/transport.go:164","msg":"Заголовки ответа скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:13.598+0700","caller":"transport/transport.go:174","msg":"Тело ответа успешно отправлено клиенту, размер: 231 байт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.123+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:34930","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.123+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:34930","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.123+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:34930","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.124+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.124+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.124+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.124+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.124+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend1 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.124+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8081/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.124+0700","caller":"transport/transport.go:139","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.124+0700","caller":"transport/transport.go:145","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.125+0700","caller":"transport/transport.go:157","msg":"Получен ответ от бэкенда backend1 за 1.21247ms, статус: 200","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.125+0700","caller":"transport/transport.go:164","msg":"Заголовки ответа скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.126+0700","caller":"transport/transport.go:174","msg":"Тело ответа успешно отправлено клиенту, размер: 230 байт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.652+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:34936","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.652+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:34936","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.652+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:34936","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.652+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.652+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.652+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.652+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.652+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.652+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.652+0700","caller":"transport/transport.go:139","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.652+0700","caller":"transport/transport.go:145","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.654+0700","caller":"transport/transport.go:157","msg":"Получен ответ от бэкенда backend2 за 1.487508ms, статус: 200","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.654+0700","caller":"transport/transport.go:164","msg":"Заголовки ответа скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:14.654+0700","caller":"transport/transport.go:174","msg":"Тело ответа успешно отправлено клиенту, размер: 232 байт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.183+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:34938","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.183+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:34938","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.183+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:34938","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.183+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.183+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.183+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.183+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.183+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.183+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.184+0700","caller":"transport/transport.go:139","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.184+0700","caller":"transport/transport.go:145","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.185+0700","caller":"transport/transport.go:157","msg":"Получен ответ от бэкенда backend2 за 949.747µs, статус: 200","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.185+0700","caller":"transport/transport.go:164","msg":"Заголовки ответа скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.185+0700","caller":"transport/transport.go:174","msg":"Тело ответа успешно отправлено клиенту, размер: 232 байт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.712+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:34950","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.712+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:34950","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.712+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:34950","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.712+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.712+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.712+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.712+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.712+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.712+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.712+0700","caller":"transport/transport.go:139","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.712+0700","caller":"transport/transport.go:145","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.713+0700","caller":"transport/transport.go:157","msg":"Получен ответ от бэкенда backend2 за 587.144µs, статус: 200","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.713+0700","caller":"transport/transport.go:164","msg":"Заголовки ответа скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:15.713+0700","caller":"transport/transport.go:174","msg":"Тело ответа успешно отправлено клиенту, размер: 232 байт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.239+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:34966","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.239+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:34966","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.239+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:34966","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.240+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.240+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.240+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.240+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.240+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.240+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.240+0700","caller":"transport/transport.go:139","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.240+0700","caller":"transport/transport.go:145","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.240+0700","caller":"transport/transport.go:157","msg":"Получен ответ от бэкенда backend2 за 619.846µs, статус: 200","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.241+0700","caller":"transport/transport.go:164","msg":"Заголовки ответа скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.241+0700","caller":"transport/transport.go:174","msg":"Тело ответа успешно отправлено клиенту, размер: 232 байт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.768+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:34978","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.768+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:34978","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.768+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:34978","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.768+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.768+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.768+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.768+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.768+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend3 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.768+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8083/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.769+0700","caller":"transport/transport.go:139","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.769+0700","caller":"transport/transport.go:145","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.769+0700","caller":"transport/transport.go:157","msg":"Получен ответ от бэкенда backend3 за 687.192µs, статус: 200","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.769+0700","caller":"transport/transport.go:164","msg":"Заголовки ответа скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:16.769+0700","caller":"transport/transport.go:174","msg":"Тело ответа успешно отправлено клиенту, размер: 231 байт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.296+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:34992","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.296+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:34992","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.296+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:34992","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.296+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.296+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.296+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.296+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.296+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.296+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.296+0700","caller":"transport/transport.go:139","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.296+0700","caller":"transport/transport.go:145","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.297+0700","caller":"transport/transport.go:157","msg":"Получен ответ от бэкенда backend2 за 389.953µs, статус: 200","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.297+0700","caller":"transport/transport.go:164","msg":"Заголовки ответа скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.297+0700","caller":"transport/transport.go:174","msg":"Тело ответа успешно отправлено клиенту, размер: 232 байт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.824+0700","caller":"transport/transport.go:102","msg":"Получен новый запрос: GET /test от [::1]:46792","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.824+0700","caller":"transport/transport.go:110","msg":"Rate limit проверка пройдена для [::1]:46792","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.824+0700","caller":"transport/transport.go:113","msg":"Создан кастомный запрос для пользователя [::1]:46792","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.824+0700","caller":"base/base.go:136","msg":"Получен список всех бэкендов (всего: 3)","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.824+0700","caller":"base/base.go:138","msg":"Бэкенд backend1: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.824+0700","caller":"base/base.go:138","msg":"Бэкенд backend2: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.824+0700","caller":"base/base.go:138","msg":"Бэкенд backend3: активных соединений=0, всего запросов=0, ошибок=0, время ответа=0ms","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.824+0700","caller":"transport/transport.go:121","msg":"Выбран бэкенд backend2 для запроса","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.824+0700","caller":"transport/transport.go:128","msg":"Проксирование запроса к http://localhost:8082/test","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.824+0700","caller":"transport/transport.go:139","msg":"Заголовки запроса скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.824+0700","caller":"transport/transport.go:145","msg":"Добавлены прокси-заголовки","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.825+0700","caller":"transport/transport.go:157","msg":"Получен ответ от бэкенда backend2 за 618.493µs, статус: 200","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.825+0700","caller":"transport/transport.go:164","msg":"Заголовки ответа скопированы","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:17.825+0700","caller":"transport/transport.go:174","msg":"Тело ответа успешно отправлено клиенту, размер: 232 байт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:59.621+0700","caller":"app/app.go:130","msg":"Получен сигнал завершения работы: interrupt","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:59.621+0700","caller":"app/app.go:144","msg":"Начало graceful shutdown","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:59.621+0700","caller":"app/app.go:147","msg":"Остановка прокси-сервера","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:59.621+0700","caller":"transport/transport.go:80","msg":"Начало graceful shutdown прокси-сервера","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"debug","ts":"2025-04-28T23:45:59.622+0700","caller":"transport/transport.go:96","msg":"Прокси-сервер успешно остановлен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:59.622+0700","caller":"app/app.go:151","msg":"Прокси-сервер успешно остановлен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:59.622+0700","caller":"app/app.go:158","msg":"Менеджер конфигурации успешно закрыт","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:59.622+0700","caller":"app/app.go:161","msg":"Graceful shutdown успешно завершен","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
{"level":"info","ts":"2025-04-28T23:45:59.622+0700","caller":"app/app.go:170","msg":"Приложение успешно завершило работу","NodeIP":"10.0.0.1","PodIP":"10.0.1.1","ServiceName":"load-balancer"}
